{% extends 'core/base.html' %}

{% block title %}Comprehensive Pregnancy Nutrition{% endblock %}

{% block content %}
<div class="container-fluid my-5">
    <!-- Header Section -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card bg-gradient-primary text-white">
                <div class="card-body text-center py-5">
                    <h1><i class="fas fa-utensils me-3"></i>Comprehensive Pregnancy Nutrition Guide</h1>
                    {% if is_pregnant %}
                        <p class="lead mb-2">Personalized nutrition for Week {{ current_week }} (Month {{ current_month }}, Trimester {{ current_trimester }})</p>
                        <p class="mb-0">Due Date: {{ profile.due_date|date:"F j, Y" }}</p>
                    {% else %}
                        <p class="lead mb-0">Complete nutrition guidance for healthy pregnancy</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Current Status Card -->
    {% if is_pregnant %}
    <div class="row mb-4">
        <div class="col-12">
            <div class="card border-primary shadow">
                <div class="card-header bg-primary text-white">
                    <h4><i class="fas fa-user-check me-2"></i>Your Current Pregnancy Status</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3 text-center">
                            <div class="p-3 bg-light rounded">
                                <h3 class="text-primary mb-1">{{ current_week }}</h3>
                                <p class="mb-0"><strong>Current Week</strong></p>
                            </div>
                        </div>
                        <div class="col-md-3 text-center">
                            <div class="p-3 bg-light rounded">
                                <h3 class="text-success mb-1">{{ current_month }}</h3>
                                <p class="mb-0"><strong>Current Month</strong></p>
                            </div>
                        </div>
                        <div class="col-md-3 text-center">
                            <div class="p-3 bg-light rounded">
                                <h3 class="text-info mb-1">{{ current_trimester }}</h3>
                                <p class="mb-0"><strong>Trimester</strong></p>
                            </div>
                        </div>
                        <div class="col-md-3 text-center">
                            <div class="p-3 bg-light rounded">
                                <h3 class="text-warning mb-1">{{ 40|add:"-"|add:current_week }}</h3>
                                <p class="mb-0"><strong>Weeks Left</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Daily Nutritional Requirements Table -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card shadow">
                <div class="card-header bg-success text-white">
                    <h4><i class="fas fa-table me-2"></i>Daily Nutritional Requirements</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-hover">
                            <thead class="table-dark">
                                <tr>
                                    <th><i class="fas fa-pills me-2"></i>Nutrient</th>
                                    <th><i class="fas fa-balance-scale me-2"></i>Recommended Amount</th>
                                    <th><i class="fas fa-apple-alt me-2"></i>Best Food Sources</th>
                                    <th><i class="fas fa-info-circle me-2"></i>Benefits</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="table-warning">
                                    <td><strong>Calories</strong></td>
                                    <td><span class="badge bg-primary">+300 kcal/day</span></td>
                                    <td>Rice, roti, potatoes, bananas, milk, ghee, boiled eggs, lentils</td>
                                    <td>Energy for mother and baby's growth</td>
                                </tr>
                                <tr class="table-info">
                                    <td><strong>Protein</strong></td>
                                    <td><span class="badge bg-primary">70–100g/day</span></td>
                                    <td>Dal, lentils, milk, paneer, tofu, eggs, chicken, fish, chickpeas</td>
                                    <td>Building blocks for baby's tissues and organs</td>
                                </tr>
                                <tr class="table-success">
                                    <td><strong>Folic Acid</strong></td>
                                    <td><span class="badge bg-primary">400–600 mcg/day</span></td>
                                    <td>Spinach, broccoli, beans, citrus fruits, peanuts, fortified cereals</td>
                                    <td>Prevents birth defects and supports neural tube development</td>
                                </tr>
                                <tr class="table-danger">
                                    <td><strong>Iron</strong></td>
                                    <td><span class="badge bg-primary">27 mg/day</span></td>
                                    <td>Spinach, red meat, dried apricots, jaggery, beans, egg yolk</td>
                                    <td>Prevents anemia and supports blood production</td>
                                </tr>
                                <tr class="table-primary">
                                    <td><strong>Calcium</strong></td>
                                    <td><span class="badge bg-primary">1000 mg/day</span></td>
                                    <td>Milk, curd, cheese, sesame seeds, ragi (finger millet), tofu</td>
                                    <td>Strong bones and teeth for mother and baby</td>
                                </tr>
                                <tr class="table-secondary">
                                    <td><strong>Vitamin D</strong></td>
                                    <td><span class="badge bg-primary">600 IU/day</span></td>
                                    <td>Sunlight (15 mins), eggs, fortified milk, fatty fish, mushrooms</td>
                                    <td>Helps absorb calcium and supports immune system</td>
                                </tr>
                                <tr class="table-light">
                                    <td><strong>Fiber</strong></td>
                                    <td><span class="badge bg-primary">25–30g/day</span></td>
                                    <td>Apples, pears, oats, whole wheat roti, brown rice, vegetables</td>
                                    <td>Prevents constipation and maintains digestive health</td>
                                </tr>
                                <tr class="table-warning">
                                    <td><strong>Water</strong></td>
                                    <td><span class="badge bg-primary">2.5–3 liters/day</span></td>
                                    <td>Water, coconut water, soups, fruit juices (unsweetened)</td>
                                    <td>Maintains amniotic fluid and prevents dehydration</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sample Daily Meal Plan -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card shadow">
                <div class="card-header bg-info text-white">
                    <h4><i class="fas fa-clock me-2"></i>Sample Daily Meal Plan</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-header bg-warning text-dark">
                                    <h6><i class="fas fa-sun me-2"></i>Morning & Breakfast</h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-tint text-primary me-2"></i><strong>6:00 AM:</strong> Warm water + banana + boiled egg</li>
                                        <li><i class="fas fa-coffee text-primary me-2"></i><strong>8:00 AM:</strong> Oats + milk + dry fruits</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-header bg-success text-white">
                                    <h6><i class="fas fa-cloud-sun me-2"></i>Lunch & Snacks</h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-utensils text-success me-2"></i><strong>1:00 PM:</strong> Rice + dal + spinach sabji + curd</li>
                                        <li><i class="fas fa-apple-alt text-success me-2"></i><strong>4:00 PM:</strong> Roasted chana, fruits, coconut water</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-header bg-primary text-white">
                                    <h6><i class="fas fa-moon me-2"></i>Dinner</h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-bread-slice text-primary me-2"></i><strong>8:00 PM:</strong> Roti + mixed vegetables + paneer</li>
                                        <li><i class="fas fa-mug-hot text-primary me-2"></i><strong>9:00 PM:</strong> Turmeric milk</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card mb-3">
                                <div class="card-header bg-secondary text-white">
                                    <h6><i class="fas fa-star me-2"></i>Important Tips</h6>
                                </div>
                                <div class="card-body">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Eat small, frequent meals</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Stay hydrated throughout the day</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Include protein in every meal</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Take prenatal vitamins as prescribed</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Safe and Unsafe Medicines -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card shadow h-100">
                <div class="card-header bg-success text-white">
                    <h4><i class="fas fa-check-circle me-2"></i>Safe Medicines During Pregnancy</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="table-success">
                                <tr>
                                    <th>Medicine</th>
                                    <th>Dosage</th>
                                    <th>Use</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Folic Acid</strong></td>
                                    <td>400–600 mcg daily</td>
                                    <td>Prevents birth defects</td>
                                </tr>
                                <tr>
                                    <td><strong>Iron (Ferrous Sulfate)</strong></td>
                                    <td>60 mg/day</td>
                                    <td>Prevents anemia</td>
                                </tr>
                                <tr>
                                    <td><strong>Calcium Carbonate</strong></td>
                                    <td>500–600 mg, 1–2x/day</td>
                                    <td>Bone & teeth development</td>
                                </tr>
                                <tr>
                                    <td><strong>Paracetamol</strong></td>
                                    <td>500 mg (max 4/day)</td>
                                    <td>For mild fever/pain</td>
                                </tr>
                                <tr>
                                    <td><strong>Multivitamin</strong></td>
                                    <td>Once daily</td>
                                    <td>Supports overall development</td>
                                </tr>
                                <tr>
                                    <td><strong>Antacids</strong></td>
                                    <td>As needed (after meals)</td>
                                    <td>Relief from acidity</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card shadow h-100">
                <div class="card-header bg-danger text-white">
                    <h4><i class="fas fa-times-circle me-2"></i>Medicines to AVOID During Pregnancy</h4>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead class="table-danger">
                                <tr>
                                    <th>Medicine</th>
                                    <th>Risk</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Ibuprofen, Aspirin</strong></td>
                                    <td>Miscarriage, bleeding risk</td>
                                </tr>
                                <tr>
                                    <td><strong>Tetracycline</strong></td>
                                    <td>Affects baby's bone & teeth</td>
                                </tr>
                                <tr>
                                    <td><strong>Ciprofloxacin</strong></td>
                                    <td>Unsafe for fetal development</td>
                                </tr>
                                <tr>
                                    <td><strong>Isotretinoin</strong></td>
                                    <td>High birth defect risk</td>
                                </tr>
                                <tr>
                                    <td><strong>Unapproved herbal meds</strong></td>
                                    <td>May cause early labor or bleeding</td>
                                </tr>
                                <tr>
                                    <td><strong>Sleeping pills (Diazepam)</strong></td>
                                    <td>Affects baby's brain & movement</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Important Warning -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="alert alert-warning border-warning">
                <h5><i class="fas fa-exclamation-triangle me-2"></i>Important Warning</h5>
                <p class="mb-0"><strong>Always consult your doctor before taking any medicine during pregnancy.</strong> This guide is for informational purposes only and should not replace professional medical advice.</p>
            </div>
        </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="row">
        <div class="col-12 text-center">
            <a href="{% url 'diet_plans' %}" class="btn btn-primary btn-lg me-3">
                <i class="fas fa-arrow-left me-2"></i>Back to Diet Plans
            </a>
            {% if is_pregnant %}
            <a href="{% url 'pregnant_dashboard' %}" class="btn btn-success btn-lg">
                <i class="fas fa-home me-2"></i>Back to Dashboard
            </a>
            {% endif %}
        </div>
    </div>
</div>

<style>
.bg-gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.card-hover:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    transition: all 0.3s ease;
}

.table th {
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.9rem;
}

.badge {
    font-size: 0.8rem;
    padding: 0.5em 0.8em;
}

.card-header h4, .card-header h6 {
    margin-bottom: 0;
}
</style>
{% endblock %} 